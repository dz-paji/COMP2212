LOAD tile1.tl;
CLONE tile1 tileQ;
CLONE tile1 tileQX;
CLONE tile1 tileQY;
let n = SIZE tile1;
CREATECANVAS canvasOut n*40;
CREATECANVAS canvasOp1 n*40;
CREATECANVAS canvasOp2 n*40;
CREATECANVAS canvasOp11 n*40;
CREATECANVAS canvasOp21 n*40;
CREATECANVAS canvasClean n*40;


REFLECTX tileQX;
REFLECTY tileQY;
CLONE tileQY tileQXY;
REFLECTX tileQXY;

TILECOMB tileQ tileQY R;
TILECOMB tileQX tileQXY R;
TILECOMB tileQ tileQX D;


let s1=20;
let s2=18;
let i = 0;
let j = 0;
do
CLONE tileQ tileQ1;
CLONE tileQ tileQ2;
SCALE tileQ1 s1;
SCALE tileQ2 s2;
let s1 = s1-2;
let s2 = s2-2;
PRINT canvasOp1 tileQ1 (i,j);
PRINT canvasOp2 tileQ2 (i+4,j+4);
let i = i+4;
let j = j+4;
CLONE canvasOp1 canvasOp11;
CLONE canvasOp2 canvasOp21;

TIlEOR canvasOp11 canvasOp21;
TILEAND canvasOp1 canvasOp2;
REVERSE canvasOp1;
TILEAND canvasOp1 canvasOp11;
TIlEOR canvasOut canvasOp1;

CLONE canvasClean canvasOp1;
CLONE canvasClean canvasOp2;
CLONE canvasClean canvasOp11;
CLONE canvasClean canvasOp21;
while(s2>1);

OUTFILE canvasOut;
